---
import "../styles/global.css";
import Sidebar from "../components/Sidebar.jsx";

interface Props {
	title?: string;
}

const { title = "Ifan's Portfolio" } = Astro.props;
---

<!doctype html>
<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="description"
			content="Portfolio of Fathan Yazid Satriani, Computer Engineering Student."
		/>
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="public/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
		<title>{title}</title>
	</head>
	<body
		class="bg-black text-slate-100 font-inter antialiased selection:bg-fuchsia-500 selection:text-white min-h-screen relative overflow-x-hidden"
	>
		{/* Sidebar HUD */}
		<Sidebar client:only="react" />

		{/* Retro Grid Background */}
		<div
			class="fixed inset-0 z-0 opacity-20 pointer-events-none perspective-grid"
		>
			<div
				class="absolute inset-0 bg-[linear-gradient(to_right,#333_1px,transparent_1px),linear-gradient(to_bottom,#333_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]"
			>
			</div>
		</div>

		{/* CRT Scanline Overlay */}
		<div
			class="fixed inset-0 z-50 pointer-events-none bg-scanlines opacity-10"
		>
		</div>

		{
			/* Main Content Wrapper - Push right for sidebar space on desktop, push down for topbar on mobile */
		}
		<div class="relative z-10 w-full pt-16 md:pt-0 md:pl-24">
			<slot />
		</div>
	</body>
</html>

<style is:global>
	/* Custom scrollbar */
	::-webkit-scrollbar {
		width: 8px;
	}
	::-webkit-scrollbar-track {
		background: #000000;
	}
	::-webkit-scrollbar-thumb {
		background: #333;
		border-radius: 0px; /* Sharp corners */
	}
	::-webkit-scrollbar-thumb:hover {
		background: #00ffff;
	}

	body {
		font-family: "Inter", sans-serif;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: "Outfit", sans-serif; /* Wide, bold font */
	}

	.bg-scanlines {
		background: linear-gradient(
			to bottom,
			rgba(255, 255, 255, 0),
			rgba(255, 255, 255, 0) 50%,
			rgba(0, 0, 0, 0.2) 50%,
			rgba(0, 0, 0, 0.2)
		);
		background-size: 100% 4px;
		animation: scanlines 0.2s linear infinite;
	}

	/* Perspective Grid Animation */
	.perspective-grid {
		transform: perspective(500px) rotateX(20deg);
		transform-origin: top;
	}

	@keyframes scanlines {
		0% {
			background-position: 0 0;
		}
		100% {
			background-position: 0 4px;
		}
	}

	@keyframes shimmer {
		100% {
			transform: translateX(100%);
		}
	}
</style>
